<!DOCTYPE html>
<html>

<head>
  <!-- Load the latest version of TensorFlow.js -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet"></script> -->
  <script src="https://cdn.jsdelivr.net/gh/leulb/versiontest/tensorflow_stuff/Neural%20Net%20Window/WebContent/tfjs_model/model.json"></script>

  <script src="model.json"></script>
  <script>
    async function app() {
      document.getElementById('console').innerHTML = 'Loading model..';

      // Load the model.
      const model = await tf.loadModel('https://cdn.jsdelivr.net/gh/leulb/versiontest/tensorflow_stuff/Neural%20Net%20Window/WebContent/tfjs_model/model.json');
      //const model = await tf.loadLayersModel('https://cdn.jsdelivr.net/gh/leulb/versiontest/tensorflow_stuff/Neural%20Net%20Window/WebContent/tfjs_model/model.json');
      //net = await mobilenet.load();
      document.getElementById('console').innerHTML = 'Model Successfully Loaded';

      // Make a prediction through the model on our image.
      const imgEl = document.getElementById('img');
      const result = await net.classify(imgEl);
      console.log(result)
      document.getElementById('console').innerHTML = result[0].className;
    }
  </script>
</head>

<body>
  <video autoplay id="webcam" width="227" height="227"></video>
  <p id="console">Waiting</p>
  <!-- Add an image that we will use to test -->
  <!--<img id="img" crossorigin src="" width="227" height="227"/>-->
<!--  <p><input type="file" accept="image/*" name="image" id="file" onchange="loadFile(event)" style="display: none;"></p>
  <p><label for="file" style="cursor: pointer;">Upload Image</label></p>
  <p><img id="output" width="200" /></p>

  <script>
    var loadFile = function(event) {
      var image = document.getElementById('img');
      image.src = URL.createObjectURL(event.target.files[0]);
    };
  </script> -->
  <!-- Load index.js after the content of the page -->
<br><label for="image">Enter image url:</label><br>
  <input type="text" id="image" name="image"><button id="sub" onclick="document.getElementById('img').src = document.getElementById('image').value">Submit</button>
  <button id="clear" onclick="document.getElementById('image').value = ''">Clear</button><br>
  <button id="Start" onclick="app()">Click me to start</button>
</body>

</html>
